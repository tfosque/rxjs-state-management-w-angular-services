<div class="container-fluid">
  <div class="row">
    <div class="col-md-3">
      <h2 mat-dialog-title style="display: inline-block">Find a Product</h2>
      &nbsp;
      <mat-chip-list #chipList2 style="display: inline-block">
        <mat-chip [selectable]="true" [removable]="false" style="background: #247bb8; color: #fff">
          {{'3756'}}
        </mat-chip>
      </mat-chip-list>
    </div>
    <div class="col-md-9">
      <div class="row">
        <!--  <div class="col-md-1"><button mat-button mat-stroked-button color="basic">Back</button></div> -->
        <div class="col-md-1 offset-md-10">
          <button mat-button mat-stroked-button color="basic" mat-dialog-close>Cancel</button>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Divider -->
<div class="row"><mat-divider class="col"></mat-divider></div>

<mat-dialog-content #scrollContainer class="mat-typography" style="width: 70vw; overflow-y: scroll">
  <div class="row mt-3">

    <!-- PRODUCT VIEW -->
    <div class="col-md-9">
      <div class="row" style="margin: auto; width: 770px">
        <!-- CARD -->
        <div *ngIf="true" class="col-md-12 my-2">
          <app-selected-detail-view [hidden]="(selectedModalProducts | async)?.length === 0"
            [panelOpenState]="panelOpenState || false" [scroll]="scroll"
            [product]="currSelection | async"></app-selected-detail-view>
        </div>

        <ng-container *ngFor="let item of (products | async).items; let i = index">

          <!-- IMG -->
          <mat-card class="col-md-3 my-2 mx-1" style="width: 11.75vw; cursor: pointer" (click)="selectProduct(item)">
            <mat-card-content>
              <div>{{item.brand}}</div>
              <img appImgErr [fallbackIMgSrc]="item.productOnErrorImage" mat-card-image
                [src]="baseImgUrl + item.productImage" [alt]="item.productId" class="img-fluid">
              <p [innerHtml]="item.productName"></p>
            </mat-card-content>
            <div>{{item.productId}}</div>
          </mat-card>
        </ng-container>
      </div>
    </div>

    <!-- SIDEBAR -->
    <div class="col-md-3" style="border-right: dotted thin #e7e6e6">

      <div class="my-2">Selected Items:
        <span *ngIf="(selectedModalProducts | async)?.length > 0">{{(selectedModalProducts | async)?.length}}
        </span>
      </div>
      <mat-chip-list #chipList>
        <mat-chip *ngFor="let item of selectedModalProducts | async" [selectable]="true" [removable]="false"
          (removed)="removeChip(item)">
          {{item.productId }}
          <mat-icon matChipRemove *ngIf="true" (click)="clearProductDisplay(item)">cancel</mat-icon>
        </mat-chip>
      </mat-chip-list>
    </div>
  </div>
</mat-dialog-content>

<div class="row"><mat-divider></mat-divider></div>

<!-- BUTTONS -->
<mat-dialog-actions align="end" class="row">
  <div class="">
    <div class="row mx-2">
      <div class="col-md-9">
        <mat-paginator [length]="100" [pageSize]="10" [pageSizeOptions]="[5, 10, 25, 100]">
        </mat-paginator>
      </div>
      <div class="col-md-3" style="text-align: center">
        <button mat-button mat-raised-button style="text-transform: uppercase; background: orange; color: #fff"
          [mat-dialog-close]="true" [disabled]="(selectedModalProducts | async)?.length === 0">
          ADD PRODUCTS TO CART
        </button>
      </div>
    </div>
  </div>
  <!--  <button mat-button mat-dialog-close color="basic">Cancel</button> -->

</mat-dialog-actions>